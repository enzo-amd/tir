{"version":3,"sources":["module.js","services/AppState.service.js","services/Auth.service.js","services/Backend.service.js","services/Guns.service.js","services/Notify.service.js","services/Tirs.service.js","services/Util.service.js","modules/app-bar/appBar.directive.js","modules/guns/gunList.directive.js","modules/guns/gunListItem.directive.js","modules/guns/gunTile.directive.js","modules/guns/gunTiles.directive.js","modules/home/homeController.js","modules/login/loginController.js","modules/main-menu/mainMenu.directive.js","modules/main-toolbar/MainToolbarController.js","modules/spinner/spinner.directive.js"],"names":[],"mappings":"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","file":"dist/javascripts/app.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    angular.module('templates', []);\r\n\r\n    angular.module('application', [\r\n        'ngRoute',\r\n        'ui.router',\r\n        //'ui.bootstrap',\r\n        //'ngAnimate',\r\n        //'ngMaterial',\r\n        //'treasure-overlay-spinner',\r\n        'templates'\r\n    ])\r\n        .config(config)\r\n        .run(run);\r\n    /*.controller(function () {\r\n\r\n     });*/\r\n\r\n\r\n    function config($stateProvider, $urlRouterProvider) {\r\n\r\n        //$mdIconProvider\r\n        //  //.iconSet('social', 'img/icons/sets/social-icons.svg', 24)\r\n        //  .iconSet('social', './bower_components/angular-material/demos/icon/demoSvgIconSets/assets/core-icons.svg', 24)\r\n        //  .defaultIconSet('./bower_components/angular-material/demos/icon/demoSvgIconSets/assets/core-icons.svg', 24);\r\n\r\n        //$mdThemingProvider.theme('success');\r\n        //$mdThemingProvider.theme('error');\r\n\r\n\r\n        $urlRouterProvider.otherwise('/');\r\n\r\n        $stateProvider\r\n            .state('home', {\r\n                url: '/', templateUrl: 'modules/home/tpl/home.view.html',\r\n                controller: 'HomeController',\r\n                controllerAs: 'vm',\r\n                access: {\r\n                    loginRequired: true\r\n                }\r\n            })\r\n            .state('login', {\r\n                url: '/login?from', templateUrl: 'modules/login/tpl/login.view.html',\r\n                controller: 'LoginController',\r\n                controllerAs: 'vm'\r\n            })\r\n        ;\r\n\r\n\r\n        // attach http interceptor\r\n        //$httpProvider.interceptors.push(['$q', function($q) {\r\n        //    return {\r\n        //        response: function(response) {\r\n        //            console.log(response);\r\n        //\r\n        //            // response.status === 200\r\n        //            return response || $q.when(response);\r\n        //        },\r\n        //        responseError: function(rejection) {\r\n        //            // Executed only when the XHR response\r\n        //            // has an error status code\r\n        //\r\n        //            console.log(rejection);\r\n        //\r\n        //            if (rejection.status == 401) {\r\n        //\r\n        //                // The interceptor \"blocks\" the error;\r\n        //                // and the success callback will be executed.\r\n        //\r\n        //                rejection.data = {stauts: 401, descr: 'unauthorized'};\r\n        //                return rejection.data;\r\n        //            }\r\n        //\r\n        //            // $q.reject creates a promise that is resolved as\r\n        //            // rejected with the specified reason.\r\n        //            // In this case the error callback will be executed.\r\n        //\r\n        //            return $q.reject(rejection);\r\n        //        }\r\n        //    }\r\n        //}]);\r\n\r\n        //$locationProvider.html5Mode(true);\r\n    }\r\n\r\n    function run($rootScope, $state, $stateParams, Util, Auth) {\r\n\r\n        /**\r\n         * Init Backendless\r\n         */\r\n        (function () {\r\n            var APPLICATION_ID = 'D2B53F5F-CED5-27D8-FFCE-93A8FB63E000',\r\n                SECRET_KEY = '82714740-213B-F349-FF36-B80FFE6C5300',\r\n                VERSION = 'v1'; //default application version;\r\n\r\n            Backendless.initApp(APPLICATION_ID, SECRET_KEY, VERSION);\r\n        })();\r\n\r\n\r\n        $rootScope.$state = $state;\r\n        $rootScope.$stateParams = $stateParams;\r\n\r\n\r\n        $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {\r\n            console.log('$stateChangeStart', toState);\r\n\r\n            var access = Util.getStateInheritedAccessRules(toState);\r\n\r\n            if (access.loginRequired && !Auth.isLoggedIn()) {\r\n                event.preventDefault();\r\n\r\n                Auth.showLogin({from: Util.encodeState(toState, toParams)});\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n})();","(function (module) {\r\n\r\n  module.service('AppState', function () {\r\n\r\n    var state = {\r\n      draftSession: false,\r\n      sessions: []\r\n    };\r\n\r\n\r\n    // Implementations\r\n\r\n    function Session(options) {\r\n      _.assign(this, {\r\n        draft: true\r\n      }, options);\r\n\r\n      return this;\r\n    }\r\n\r\n    function newSession(options) {\r\n      var session = new Session(options);\r\n\r\n      state.sessions.push(session);\r\n\r\n      state.draftSession = session;\r\n\r\n      return session;\r\n    }\r\n\r\n    function cancelSession(session) {\r\n      var sessionIndex = _.findIndex(state.sessions, session);\r\n\r\n      if (sessionIndex >= 0) {\r\n        state.sessions.splice(sessionIndex, 1);\r\n      }\r\n\r\n      if (state.draftSession === session) {\r\n        getDraftSession();\r\n      }\r\n    }\r\n\r\n    function getDraftSession() {\r\n      return state.draftSession = _.find(state.sessions, 'draft');\r\n    }\r\n\r\n\r\n    // Export\r\n\r\n    return {\r\n      state: state,\r\n\r\n      Session: Session,\r\n      newSession: newSession,\r\n      cancelSession: cancelSession,\r\n      getDraftSession: getDraftSession\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by YuraVika on 13.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.service('Auth', function ($rootScope, $q, $state, Notify, Backend) {\r\n\r\n    var state = {\r\n      user: null\r\n    };\r\n\r\n\r\n    // Implementations\r\n\r\n    function login(userCredentials) {\r\n      var promise = Backend.call('UserService.login', userCredentials.email, userCredentials.password, true);\r\n\r\n      promise.then(function (user) {\r\n        console.info('login', user);\r\n\r\n        Notify.show({\r\n          template: 'Добро пожаловать, <%- data.name %>!',\r\n          type: 'success',\r\n          data: user\r\n        });\r\n      });\r\n\r\n      return promise;\r\n    }\r\n\r\n    function logout() {\r\n      var promise = isLoggedIn() ? Backend.call('UserService.logout') : $q.when(true);\r\n\r\n      $rootScope.$emit('spinner', true);\r\n\r\n      promise\r\n        .then(function () {\r\n          console.info('logout');\r\n\r\n          state.user = null;\r\n\r\n          $state.go('login');\r\n        })\r\n        .finally(function () {\r\n          $rootScope.$emit('spinner', false);\r\n        });\r\n\r\n      return promise;\r\n    }\r\n\r\n    function userTokenIsValid() {\r\n      var success = function (data) {\r\n        console.log('userTokenIsValid', data);\r\n      };\r\n      var error = function (data) {\r\n        console.log('error', data);\r\n      };\r\n\r\n      Backendless.UserService.isValidLogin(new Backendless.Async(success, error));\r\n    }\r\n\r\n    function isLoggedIn() {\r\n      var user = state.user = state.user || Backendless.LocalCache.get('current-user');\r\n\r\n      return !!user;\r\n    }\r\n\r\n    function showLogin(params) {\r\n      $state.go('login', params);\r\n    }\r\n\r\n\r\n    // Export\r\n\r\n    return {\r\n      state: state,\r\n\r\n      login: login,\r\n      logout: logout,\r\n      isLoggedIn: isLoggedIn,\r\n      showLogin: showLogin\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n\r\n    module.service('Backend', function ($q, $injector, $state, Notify) {\r\n\r\n        // Implementations\r\n\r\n        function call(/*[context,] methodName, arguments...*/) {\r\n            var args = _.slice(arguments);\r\n            var methodName = args.shift();\r\n            var methodFunc = methodName ? _.get(Backendless, methodName) : Backendless;\r\n            var methodNameParts = methodName ? methodName.split('.') : [];\r\n            var context = methodNameParts.length > 1 ? _.get(Backendless, _.initial(methodNameParts).join('.')) : Backendless;\r\n\r\n            return $q(function (resolve, reject) {\r\n                var async = new Backendless.Async(\r\n                    function (response) {\r\n                        resolve(response);\r\n                    },\r\n                    function (error) {\r\n                        console.warn(methodName + ' error', error);\r\n\r\n                        reject(error);\r\n\r\n                        Notify.show({\r\n                            template: '[<%- data.code %>] <%- data.message %>',\r\n                            type: 'error',\r\n                            data: error\r\n                        });\r\n\r\n                        if (error.code === 3064) {\r\n                            var Auth = $injector.get('Auth');\r\n\r\n                            Auth.logout();\r\n                        }\r\n                    }\r\n                );\r\n\r\n                args.push(async);\r\n\r\n                methodFunc.apply(context, args);\r\n            });\r\n        }\r\n\r\n\r\n        // Export\r\n\r\n        return {\r\n            call: call\r\n        };\r\n    });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n\r\n  module.service('Guns', function ($q) {\r\n\r\n    var state = {\r\n      guns: null\r\n    };\r\n\r\n    var guns = [\r\n      {\r\n        name: 'g1',\r\n        title: 'G1',\r\n        image: 'gun-1.jpg'\r\n      },\r\n      {\r\n        name: 'g2',\r\n        title: 'G2',\r\n        image: 'gun-2.jpg'\r\n      },\r\n      {\r\n        name: 'g3',\r\n        title: 'G3',\r\n        image: 'gun-3.jpg'\r\n      },\r\n      {\r\n        name: 'g4',\r\n        title: 'G4',\r\n        image: 'gun-4.jpg'\r\n      },\r\n      {\r\n        name: 'g5',\r\n        title: 'G5',\r\n        image: 'gun-5.jpg'\r\n      },\r\n      {\r\n        name: 'g6',\r\n        title: 'G6',\r\n        image: 'gun-6.jpg'\r\n      },\r\n      {\r\n        name: 'g7',\r\n        title: 'G7',\r\n        image: 'gun-7.jpg'\r\n      }\r\n    ];\r\n\r\n\r\n    // Implementations\r\n\r\n    function getGuns() {\r\n      return $q(function (resolve, reject) {\r\n        resolve(guns);\r\n      });\r\n    }\r\n\r\n\r\n    // Export\r\n\r\n    return {\r\n      state: state,\r\n\r\n      getGuns: getGuns\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n\r\n    module.service('Notify', function (/*$mdToast*/) {\r\n\r\n\r\n        // Implementations\r\n\r\n        function show(params) {\r\n            var messageContent = params.template ? _.template(params.template)({data: params.data}) : params.content;\r\n            var delay = params.delay || 10000;\r\n            /*var toast = $mdToast.simple()\r\n              .content(messageContent)\r\n              .position('top right')\r\n              .hideDelay(delay);\r\n\r\n            if (params.type) {\r\n                toast.theme(params.type);\r\n            }\r\n\r\n            $mdToast.show(toast);*/\r\n\r\n            console.log(messageContent);\r\n        }\r\n\r\n\r\n        // Export\r\n\r\n        return {\r\n            show: show\r\n        };\r\n    });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n\r\n    module.service('Tirs', function ($q, Notify) {\r\n\r\n        var state = {\r\n            tir: null,\r\n            tirs: null\r\n        };\r\n\r\n\r\n        // Implementations\r\n\r\n        var Classes = {\r\n            Tirs: function Tirs(args) {\r\n                args = args || {};\r\n                this._private_relations = [];\r\n                this._private_geoRelations = [];\r\n                this._private_dates = [\r\n                    \"created\",\r\n                    \"updated\"];\r\n                this.___class = \"Tirs\";\r\n\r\n                this.ownerId = args.ownerId || String(Math.abs(Math.floor(Math.random() * Math.pow(10, 500) - 1)));\r\n\r\n                this.created = args.created || new Date();\r\n\r\n                this.updated = args.updated || new Date();\r\n\r\n                this.title = args.title || String(Math.abs(Math.floor(Math.random() * Math.pow(10, 500) - 1)));\r\n\r\n                this.name = args.name || String(Math.abs(Math.floor(Math.random() * Math.pow(10, 500) - 1)));\r\n\r\n                var storage = Backendless.Persistence.of(Tirs);\r\n\r\n                this.save = function (async) {\r\n                    delete this._private_relations;\r\n                    delete this._private_geoRelations;\r\n                    delete this._private_dates;\r\n                    storage.save(this, async);\r\n                };\r\n\r\n                this.remove = function (async) {\r\n                    var result = storage.remove(this, async);\r\n                    this.objectId = null;\r\n                    return result;\r\n                };\r\n\r\n            }\r\n        };\r\n\r\n\r\n        function getTirs() {\r\n            return $q(function (resolve, reject) {\r\n                var success = function (response) {\r\n                    console.info('getTirs', response);\r\n\r\n                    state.tirs = response.data;\r\n\r\n                    resolve(state.tirs);\r\n                };\r\n                var error = function (error) {\r\n                    console.warn('getTirs error', error);\r\n\r\n                    reject(error);\r\n\r\n                    Notify.show({\r\n                        template: '[<%- data.code %>] <%- data.message %>',\r\n                        type: 'error',\r\n                        data: error\r\n                    });\r\n                };\r\n\r\n                if (state.tirs) {\r\n                    resolve(state.tirs);\r\n                }\r\n                else {\r\n                    Backendless.Persistence.of( Classes.Tirs ).find( new Backendless.Async(success, error) );\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        // Export\r\n\r\n        return {\r\n            Classes: Classes,\r\n            state: state,\r\n\r\n            getTirs: getTirs\r\n        };\r\n    });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n\r\n    module.service('Util', function ($injector) {\r\n\r\n\r\n        // Implementations\r\n\r\n        function getStateInheritedAccessRules(state) {\r\n            var $state = $injector.get('$state');\r\n\r\n            state = state || $state.current;\r\n\r\n            var meta = _.transform(state.name.split('.'), function (meta, stateNamePart) {\r\n                meta.stateName = (meta.stateName ? meta.stateName + '.' : '') + stateNamePart;\r\n\r\n                var state = $state.get(meta.stateName);\r\n                var access = state && state.access;\r\n\r\n                access && _.assign(meta.access, access);\r\n            }, {\r\n                stateName: '',\r\n                access: {}\r\n            });\r\n\r\n            return meta.access;\r\n        }\r\n\r\n        /**\r\n         * Converts current state and it's parameters to the such string: @games_slug.rewards?slug=smoke-arcanoid\r\n         * @returns {string}\r\n         */\r\n        function encodeState(state, stateParams) {\r\n            if (!state) {\r\n                var $state = $injector.get('$state');\r\n\r\n                state = $state.current;\r\n                stateParams = $state.params;\r\n            }\r\n\r\n            var encodedState = '@' + state.name;\r\n\r\n            var query = _(stateParams)\r\n              .omit(_.isUndefined)\r\n              .map(function (value, key) {\r\n                  return encodeURIComponent(key) + '=' + encodeURIComponent(value);\r\n              })\r\n              .join('&');\r\n\r\n            if (query) {\r\n                encodedState = encodedState + '?' + query;\r\n            }\r\n\r\n            return encodedState;\r\n        }\r\n\r\n        /**\r\n         * Decodes state and state parameters from the string like @games_slug.rewards?slug=smoke-arcanoid\r\n         * @param {string} encodedState\r\n         * @returns {Object|null}\r\n         */\r\n        function decodeState(encodedState) {\r\n            var $state = $injector.get('$state');\r\n            var stateInfo = null;\r\n\r\n            if (encodedState) {\r\n\r\n                if (_.startsWith(encodedState, '@')) {\r\n                    var elements = encodedState.split('?');\r\n                    var stateName = _.trimLeft(elements.shift(), '@');\r\n                    var state = $state.get(stateName);\r\n\r\n                    if (state) {\r\n                        var params = elements.length && _(elements[0].split('&'))\r\n                            .map(function (queryParam) {\r\n                                return queryParam.split('=');\r\n                            })\r\n                            .zipObject()\r\n                            .value() || {};\r\n\r\n                        stateInfo = {\r\n                            state: state,\r\n                            params: params\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            return stateInfo;\r\n        }\r\n\r\n        function serializeQueryParams(params) {\r\n            var result = '';\r\n\r\n            if (_.isObject(params)) {\r\n                params = _.pick(params, angular.isDefined);\r\n\r\n                result = $.param(params);\r\n\r\n                if (result) {\r\n                    result = '?' + result;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n\r\n\r\n        // Export\r\n\r\n        return {\r\n            getStateInheritedAccessRules: getStateInheritedAccessRules,\r\n\r\n            encodeState: encodeState,\r\n            decodeState: decodeState,\r\n\r\n            serializeQueryParams: serializeQueryParams\r\n        };\r\n    });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by Yury.Sergunin on 27.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('appBar', function () {\r\n    return {\r\n      templateUrl: 'modules/app-bar/tpl/app-bar.view.html',\r\n      scope: {},\r\n      controller: function ($scope, Auth) {\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n          isLoggedIn: Auth.isLoggedIn,\r\n          logout: logout\r\n        });\r\n\r\n\r\n        // Implementations\r\n\r\n        function logout() {\r\n          Auth.logout();\r\n        }\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by Yury.Sergunin on 28.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('gunList', function () {\r\n    return {\r\n      templateUrl: 'modules/guns/tpl/gun-list.view.html',\r\n      scope: {},\r\n      controller: function ($scope, Guns) {\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n          guns: null\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n\r\n        // Initialize\r\n\r\n        fetchGuns();\r\n\r\n\r\n        // Implementations\r\n\r\n        function fetchGuns() {\r\n          Guns.getGuns()\r\n            .then(function (guns) {\r\n              $scope.guns = guns;\r\n            });\r\n        }\r\n\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by Yury.Sergunin on 28.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('gunListItem', function () {\r\n    return {\r\n      templateUrl: 'modules/guns/tpl/gun-list-item.view.html',\r\n      scope: {\r\n        gun: '=gunListItem'\r\n      },\r\n      controller: function ($scope, Guns) {\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n\r\n        // Initialize\r\n\r\n\r\n        // Implementations\r\n\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by Yury.Sergunin on 28.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('gunTile', function () {\r\n    return {\r\n      templateUrl: 'modules/guns/tpl/gun-tile.view.html',\r\n      scope: {\r\n        gun: '=gunTile'\r\n      },\r\n      controller: function ($scope, Guns) {\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n\r\n        // Initialize\r\n\r\n\r\n        // Implementations\r\n\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by Yury.Sergunin on 28.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('gunTiles', function () {\r\n    return {\r\n      templateUrl: 'modules/guns/tpl/gun-tiles.view.html',\r\n      scope: {},\r\n      controller: function ($scope, Guns) {\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n          guns: null\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n\r\n        // Initialize\r\n\r\n        fetchGuns();\r\n\r\n\r\n        // Implementations\r\n\r\n        function fetchGuns() {\r\n          Guns.getGuns()\r\n            .then(function (guns) {\r\n              $scope.guns = guns;\r\n            });\r\n        }\r\n\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n","(function (module) {\r\n  'use strict';\r\n\r\n  module.controller('HomeController', HomeController);\r\n\r\n  function HomeController() {\r\n    var vm = this;\r\n\r\n\r\n    // Pass fields to the View\r\n    _.assign(vm, {\r\n      spinner: {\r\n        active: false\r\n      }\r\n    });\r\n\r\n\r\n    // Pass methods to the View\r\n    _.assign(vm, {});\r\n\r\n\r\n    // Implementations\r\n\r\n\r\n  }\r\n\r\n})(angular.module('application'));","(function (module) {\r\n  'use strict';\r\n\r\n  module.controller('LoginController', LoginController);\r\n\r\n  function LoginController($rootScope, $state, Auth, Util, Tirs) {\r\n    var vm = this;\r\n\r\n\r\n    var userCredentials = {\r\n      email: 'user1@mail.com',\r\n      password: '123456789'\r\n    };\r\n\r\n    var logoutPromise = Auth.logout();\r\n\r\n\r\n    // Pass fields to the View\r\n    _.assign(vm, {\r\n      userCredentials: userCredentials,\r\n      tirsState: Tirs.state\r\n    });\r\n\r\n\r\n    // Pass methods to the View\r\n    _.assign(vm, {\r\n      login: login\r\n    });\r\n\r\n\r\n    // Initialize\r\n\r\n    (function () {\r\n      $rootScope.$emit('spinner', true);\r\n\r\n      logoutPromise.then(function () {\r\n        return Tirs.getTirs()\r\n          .then(function (tirs) {\r\n            Tirs.state.tir = Tirs.state.tir || tirs[0];\r\n          });\r\n      })\r\n        .finally(function () {\r\n          $rootScope.$emit('spinner', false);\r\n        });\r\n    })();\r\n\r\n\r\n    // Implementations\r\n\r\n    function login() {\r\n      $rootScope.$emit('spinner', true);\r\n\r\n      console.log('auth');\r\n\r\n      Auth.login(vm.userCredentials)\r\n        .then(function pass() {\r\n          var originalPageInfo = Util.decodeState($state.params.from);\r\n\r\n          if (originalPageInfo) {\r\n            $state.go(originalPageInfo.state.name, originalPageInfo.params, {reload: true});\r\n          }\r\n          else {\r\n            $state.go('home');\r\n          }\r\n        })\r\n        .finally(function () {\r\n          $rootScope.$emit('spinner', false);\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n})(angular.module('application'));","/**\r\n * Created by YuraVika on 16.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n    module.directive('mainMenu', function () {\r\n        return {\r\n            templateUrl: 'modules/main-menu/tpl/main-menu.view.html',\r\n            scope: {},\r\n            controller: function ($scope, $element, $rootScope, Auth) {\r\n\r\n                // Pass fields to the $scope\r\n                _.assign($scope, {\r\n\r\n                });\r\n\r\n                // Pass methods to the $scope\r\n                _.assign($scope, {\r\n                    toggle: toggle,\r\n                    logout: logout\r\n                });\r\n\r\n\r\n                // Implementations\r\n\r\n                function toggle(state) {\r\n                    /*var mdSidenav = $mdSidenav('main-menu');\r\n\r\n                    state = _.isUndefined(state) ? !mdSidenav.isOpen() : !!state;\r\n\r\n                    var method = state ? 'open' : 'close';\r\n\r\n                    mdSidenav[method]();*/\r\n                }\r\n\r\n                function logout() {\r\n                    Auth.logout().then(function () {\r\n                        toggle(false);\r\n                    });\r\n                }\r\n\r\n\r\n                // Watchers\r\n\r\n                $rootScope.$on('mainMenu.toggle', function (event, state) {\r\n                    toggle(state);\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})(angular.module('application'));\r\n","/**\r\n * Created by YuraVika on 16.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n    module.controller('MainToolbarController', function ($rootScope) {\r\n        var vm = this;\r\n\r\n        _.assign(vm, {\r\n           toggleMainMenu:  toggleMainMenu\r\n        });\r\n\r\n\r\n        // Implementations\r\n\r\n        function toggleMainMenu(state) {\r\n            $rootScope.$emit('mainMenu.toggle', state);\r\n        }\r\n\r\n    });\r\n\r\n\r\n})(angular.module('application'));","/**\r\n * Created by Yury.Sergunin on 28.08.2015.\r\n */\r\n\r\n(function (module) {\r\n\r\n  module.directive('spinner', function () {\r\n    return {\r\n      scope: {\r\n        isActive: '=?spinner'\r\n      },\r\n      controller: function ($scope, $rootScope) {\r\n\r\n        var options = {\r\n          overlay: {\r\n            keyboard: false, // teardown when <esc> key is pressed (default: true)\r\n            static: true, // maintain overlay when clicked (default: false)\r\n            onclose: function() { // execute function when overlay is closed\r\n              overlay = null;\r\n              toggle(false);\r\n            }\r\n          }\r\n        };\r\n\r\n        var overlay = null;\r\n\r\n        // Pass fields to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n        // Pass methods to the $scope\r\n        _.assign($scope, {\r\n\r\n        });\r\n\r\n\r\n        // Implementations\r\n\r\n        function toggle(state) {\r\n          if (state) {\r\n            var $spinner = $(\r\n              '<svg class=\"spinner\" width=\"65px\" height=\"65px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">' +\r\n              '   <circle class=\"path\" fill=\"none\" stroke-width=\"6\" stroke-linecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\"></circle>' +\r\n              '</svg>'\r\n            );\r\n\r\n            $spinner.appendTo(document.body);\r\n\r\n            overlay = mui.overlay('on', options.overlay, $spinner[0]);\r\n\r\n            $(overlay).addClass('spinner-overlay');\r\n          }\r\n          else if (overlay) {\r\n            mui.overlay('off');\r\n            overlay = null;\r\n          }\r\n\r\n          $scope.isActive = !!state;\r\n        }\r\n\r\n\r\n        // Watchers\r\n\r\n        $scope.$watch('isActive', function () {\r\n          toggle($scope.isActive);\r\n        });\r\n\r\n        (function () {\r\n          if (_.isUndefined($scope.isActive)) {\r\n            console.log('set on');\r\n\r\n            var off = $rootScope.$on('spinner', function (event, state) {\r\n              console.trace('on', state);\r\n\r\n              $scope.isActive = !!state;\r\n            });\r\n\r\n            $scope.$on('$destroy', function () {\r\n              console.log('set off');\r\n\r\n              off();\r\n            });\r\n          }\r\n        })();\r\n\r\n      }\r\n    };\r\n  });\r\n\r\n})(angular.module('application'));\r\n"],"sourceRoot":"/source/"}